import{B as le,f as $,O as k,D as w,m as d,g as Pe,R as Ce,r as B,h as Me,o as u,i as C,w as A,c as I,F as O,j as q,k as M,T as ue,U as se,Z as ee,l as Ee,b as S,n as J,a as P,p as ne,q as H,t as Q,v as Ke,x as Se,y as Ae,z as De,u as y,A as Oe,C as _e,E as Ve,G as K,H as z,I as j,d as Fe,J as Re,K as Te,L as Be,M as ze,N as Ue,e as Ne,P as Ge,Q as He,S as Ze,s as je,V as We,_ as Ye}from"./index-BOCf6Vpa.js";var Xe={root:function(e){var n=e.instance;return["p-contextmenu p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},menu:"p-contextmenu-root-list",menuitem:function(e){var n=e.instance,s=e.processedItem;return["p-menuitem",{"p-menuitem-active p-highlight":n.isItemActive(s),"p-focus":n.isItemFocused(s),"p-disabled":n.isItemDisabled(s)}]},content:"p-menuitem-content",action:"p-menuitem-link",icon:"p-menuitem-icon",label:"p-menuitem-text",submenuIcon:"p-submenu-icon",submenu:"p-submenu-list",separator:"p-menuitem-separator"},qe=le.extend({name:"contextmenu",classes:Xe}),Je={name:"BaseContextMenu",extends:$,props:{model:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},global:{type:Boolean,default:!1},tabindex:{type:Number,default:0},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:qe,provide:function(){return{$parentInstance:this}}},ce={name:"ContextMenuSub",hostName:"ContextMenu",extends:$,emits:["item-click","item-mouseenter","item-mousemove"],props:{items:{type:Array,default:null},menuId:{type:String,default:null},focusedItemId:{type:String,default:null},root:{type:Boolean,default:!1},visible:{type:Boolean,default:!1},level:{type:Number,default:0},templates:{type:Object,default:null},activeItemPath:{type:Object,default:null},tabindex:{type:Number,default:0}},methods:{getItemId:function(e){return"".concat(this.menuId,"_").concat(e.key)},getItemKey:function(e){return this.getItemId(e)},getItemProp:function(e,n,s){return e&&e.item?k.getItemValue(e.item[n],s):void 0},getItemLabel:function(e){return this.getItemProp(e,"label")},getItemLabelId:function(e){return"".concat(this.menuId,"_").concat(e.key,"_label")},getPTOptions:function(e,n,s){return this.ptm(e,{context:{item:n,active:this.isItemActive(n),focused:this.isItemFocused(n),disabled:this.isItemDisabled(n),index:s}})},isItemActive:function(e){return this.activeItemPath.some(function(n){return n.key===e.key})},isItemVisible:function(e){return this.getItemProp(e,"visible")!==!1},isItemDisabled:function(e){return this.getItemProp(e,"disabled")},isItemFocused:function(e){return this.focusedItemId===this.getItemId(e)},isItemGroup:function(e){return k.isNotEmpty(e.items)},onItemClick:function(e,n){this.getItemProp(n,"command",{originalEvent:e,item:n.item}),this.$emit("item-click",{originalEvent:e,processedItem:n,isFocus:!0})},onItemMouseEnter:function(e,n){this.$emit("item-mouseenter",{originalEvent:e,processedItem:n})},onItemMouseMove:function(e,n){this.$emit("item-mousemove",{originalEvent:e,processedItem:n,isFocus:!0})},getAriaSetSize:function(){var e=this;return this.items.filter(function(n){return e.isItemVisible(n)&&!e.getItemProp(n,"separator")}).length},getAriaPosInset:function(e){var n=this;return e-this.items.slice(0,e).filter(function(s){return n.isItemVisible(s)&&n.getItemProp(s,"separator")}).length+1},onEnter:function(){w.nestedPosition(this.$refs.container,this.level)},getMenuItemProps:function(e,n){return{action:d({class:this.cx("action"),tabindex:-1,"aria-hidden":!0},this.getPTOptions("action",e,n)),icon:d({class:[this.cx("icon"),this.getItemProp(e,"icon")]},this.getPTOptions("icon",e,n)),label:d({class:this.cx("label")},this.getPTOptions("label",e,n)),submenuicon:d({class:this.cx("submenuIcon")},this.getPTOptions("submenuicon",e,n))}}},components:{AngleRightIcon:Pe},directives:{ripple:Ce}},Qe=["tabindex"],$e=["id","aria-label","aria-disabled","aria-expanded","aria-haspopup","aria-level","aria-setsize","aria-posinset","data-p-highlight","data-p-focused","data-p-disabled"],et=["onClick","onMouseenter","onMousemove"],tt=["href","target"],nt=["id"],it=["id"];function st(t,e,n,s,o,i){var r=B("AngleRightIcon"),l=B("ContextMenuSub",!0),f=Me("ripple");return u(),C(ue,d({name:"p-contextmenusub",onEnter:i.onEnter},t.ptm("menu.transition")),{default:A(function(){return[n.root||n.visible?(u(),I("ul",d({key:0,ref:"container",tabindex:n.tabindex},t.ptm("menu")),[(u(!0),I(O,null,q(n.items,function(a,m){return u(),I(O,{key:i.getItemKey(a)},[i.isItemVisible(a)&&!i.getItemProp(a,"separator")?(u(),I("li",d({key:0,id:i.getItemId(a),style:i.getItemProp(a,"style"),class:[t.cx("menuitem",{processedItem:a}),i.getItemProp(a,"class")],role:"menuitem","aria-label":i.getItemLabel(a),"aria-disabled":i.isItemDisabled(a)||void 0,"aria-expanded":i.isItemGroup(a)?i.isItemActive(a):void 0,"aria-haspopup":i.isItemGroup(a)&&!i.getItemProp(a,"to")?"menu":void 0,"aria-level":n.level+1,"aria-setsize":i.getAriaSetSize(),"aria-posinset":i.getAriaPosInset(m)},i.getPTOptions("menuitem",a,m),{"data-p-highlight":i.isItemActive(a),"data-p-focused":i.isItemFocused(a),"data-p-disabled":i.isItemDisabled(a)}),[P("div",d({class:t.cx("content"),onClick:function(v){return i.onItemClick(v,a)},onMouseenter:function(v){return i.onItemMouseEnter(v,a)},onMousemove:function(v){return i.onItemMouseMove(v,a)}},i.getPTOptions("content",a,m)),[n.templates.item?(u(),C(H(n.templates.item),{key:1,item:a.item,hasSubmenu:i.getItemProp(a,"items"),label:i.getItemLabel(a),props:i.getMenuItemProps(a,m)},null,8,["item","hasSubmenu","label","props"])):ne((u(),I("a",d({key:0,href:i.getItemProp(a,"url"),class:t.cx("action"),target:i.getItemProp(a,"target"),tabindex:"-1","aria-hidden":"true"},i.getPTOptions("action",a,m)),[n.templates.itemicon?(u(),C(H(n.templates.itemicon),{key:0,item:a.item,class:J(t.cx("icon"))},null,8,["item","class"])):i.getItemProp(a,"icon")?(u(),I("span",d({key:1,class:[t.cx("icon"),i.getItemProp(a,"icon")]},i.getPTOptions("icon",a,m)),null,16)):M("",!0),P("span",d({id:i.getItemLabelId(a),class:t.cx("label")},i.getPTOptions("label",a,m)),Q(i.getItemLabel(a)),17,nt),i.getItemProp(a,"items")?(u(),I(O,{key:2},[n.templates.submenuicon?(u(),C(H(n.templates.submenuicon),{key:0,active:i.isItemActive(a),class:J(t.cx("submenuIcon"))},null,8,["active","class"])):(u(),C(r,d({key:1,class:t.cx("submenuIcon")},i.getPTOptions("submenuicon",a,m)),null,16,["class"]))],64)):M("",!0)],16,tt)),[[f]])],16,et),i.isItemVisible(a)&&i.isItemGroup(a)?(u(),C(l,d({key:0,id:i.getItemId(a)+"_list",role:"menu",class:t.cx("submenu"),menuId:n.menuId,focusedItemId:n.focusedItemId,items:a.items,templates:n.templates,activeItemPath:n.activeItemPath,level:n.level+1,visible:i.isItemActive(a)&&i.isItemGroup(a),pt:t.pt,unstyled:t.unstyled,onItemClick:e[0]||(e[0]=function(h){return t.$emit("item-click",h)}),onItemMouseenter:e[1]||(e[1]=function(h){return t.$emit("item-mouseenter",h)}),onItemMousemove:e[2]||(e[2]=function(h){return t.$emit("item-mousemove",h)}),"aria-labelledby":i.getItemLabelId(a)},t.ptm("submenu")),null,16,["id","class","menuId","focusedItemId","items","templates","activeItemPath","level","visible","pt","unstyled","aria-labelledby"])):M("",!0)],16,$e)):M("",!0),i.isItemVisible(a)&&i.getItemProp(a,"separator")?(u(),I("li",d({key:1,id:i.getItemId(a),style:i.getItemProp(a,"style"),class:[t.cx("separator"),i.getItemProp(a,"class")],role:"separator"},t.ptm("separator")),null,16,it)):M("",!0)],64)}),128))],16,Qe)):M("",!0)]}),_:1},16,["onEnter"])}ce.render=st;var de={name:"ContextMenu",extends:Je,inheritAttrs:!1,emits:["focus","blur","show","hide"],target:null,outsideClickListener:null,resizeListener:null,documentContextMenuListener:null,pageX:null,pageY:null,container:null,list:null,data:function(){return{id:this.$attrs.id,focused:!1,focusedItemInfo:{index:-1,level:0,parentKey:""},activeItemPath:[],visible:!1,submenuVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||se()},activeItemPath:function(e){k.isNotEmpty(e)?(this.bindOutsideClickListener(),this.bindResizeListener()):this.visible||(this.unbindOutsideClickListener(),this.unbindResizeListener())}},mounted:function(){this.id=this.id||se(),this.global&&this.bindDocumentContextMenuListener()},beforeUnmount:function(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.unbindDocumentContextMenuListener(),this.container&&this.autoZIndex&&ee.clear(this.container),this.target=null,this.container=null},methods:{getItemProp:function(e,n){return e?k.getItemValue(e[n]):void 0},getItemLabel:function(e){return this.getItemProp(e,"label")},isItemDisabled:function(e){return this.getItemProp(e,"disabled")},isItemGroup:function(e){return k.isNotEmpty(this.getItemProp(e,"items"))},isItemSeparator:function(e){return this.getItemProp(e,"separator")},getProccessedItemLabel:function(e){return e?this.getItemLabel(e.item):void 0},isProccessedItemGroup:function(e){return e&&k.isNotEmpty(e.items)},toggle:function(e){this.visible?this.hide():this.show(e)},show:function(e){this.activeItemPath=[],this.focusedItemInfo={index:-1,level:0,parentKey:""},w.focus(this.list),this.pageX=e.pageX,this.pageY=e.pageY,this.visible?this.position():this.visible=!0,e.stopPropagation(),e.preventDefault()},hide:function(){this.visible=!1,this.activeItemPath=[],this.focusedItemInfo={index:-1,level:0,parentKey:""}},onFocus:function(e){this.focused=!0,this.focusedItemInfo=this.focusedItemInfo.index!==-1?this.focusedItemInfo:{index:-1,level:0,parentKey:""},this.$emit("focus",e)},onBlur:function(e){this.focused=!1,this.focusedItemInfo={index:-1,level:0,parentKey:""},this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!n&&k.isPrintableCharacter(e.key)&&this.searchItems(e,e.key);break}},onItemChange:function(e){var n=e.processedItem,s=e.isFocus;if(!k.isEmpty(n)){var o=n.index,i=n.key,r=n.level,l=n.parentKey,f=n.items,a=k.isNotEmpty(f),m=this.activeItemPath.filter(function(h){return h.parentKey!==l&&h.parentKey!==i});a&&(m.push(n),this.submenuVisible=!0),this.focusedItemInfo={index:o,level:r,parentKey:l},this.activeItemPath=m,s&&w.focus(this.list)}},onItemClick:function(e){var n=e.processedItem,s=this.isProccessedItemGroup(n),o=this.isSelected(n);if(o){var i=n.index,r=n.key,l=n.level,f=n.parentKey;this.activeItemPath=this.activeItemPath.filter(function(a){return r!==a.key&&r.startsWith(a.key)}),this.focusedItemInfo={index:i,level:l,parentKey:f},w.focus(this.list)}else s?this.onItemChange(e):this.hide()},onItemMouseEnter:function(e){this.onItemChange(e)},onItemMouseMove:function(e){this.focused&&this.changeFocusedItemIndex(e,e.processedItem.index)},onArrowDownKey:function(e){var n=this.focusedItemInfo.index!==-1?this.findNextItemIndex(this.focusedItemInfo.index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,n),e.preventDefault()},onArrowUpKey:function(e){if(e.altKey){if(this.focusedItemInfo.index!==-1){var n=this.visibleItems[this.focusedItemInfo.index],s=this.isProccessedItemGroup(n);!s&&this.onItemChange({originalEvent:e,processedItem:n})}this.popup&&this.hide(),e.preventDefault()}else{var o=this.focusedItemInfo.index!==-1?this.findPrevItemIndex(this.focusedItemInfo.index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,o),e.preventDefault()}},onArrowLeftKey:function(e){var n=this,s=this.visibleItems[this.focusedItemInfo.index],o=this.activeItemPath.find(function(r){return r.key===s.parentKey}),i=k.isEmpty(s.parent);i||(this.focusedItemInfo={index:-1,parentKey:o?o.parentKey:""},this.searchValue="",this.onArrowDownKey(e)),this.activeItemPath=this.activeItemPath.filter(function(r){return r.parentKey!==n.focusedItemInfo.parentKey}),e.preventDefault()},onArrowRightKey:function(e){var n=this.visibleItems[this.focusedItemInfo.index],s=this.isProccessedItemGroup(n);s&&(this.onItemChange({originalEvent:e,processedItem:n}),this.focusedItemInfo={index:-1,parentKey:n.key},this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()},onHomeKey:function(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()},onEndKey:function(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()},onEnterKey:function(e){if(this.focusedItemInfo.index!==-1){var n=w.findSingle(this.list,'li[id="'.concat("".concat(this.focusedItemIdx),'"]')),s=n&&w.findSingle(n,'a[data-pc-section="action"]');s?s.click():n&&n.click();var o=this.visibleItems[this.focusedItemInfo.index],i=this.isProccessedItemGroup(o);!i&&(this.focusedItemInfo.index=this.findFirstFocusedItemIndex())}e.preventDefault()},onSpaceKey:function(e){this.onEnterKey(e)},onEscapeKey:function(e){this.hide(),!this.popup&&(this.focusedItemInfo.index=this.findFirstFocusedItemIndex()),e.preventDefault()},onTabKey:function(e){if(this.focusedItemInfo.index!==-1){var n=this.visibleItems[this.focusedItemInfo.index],s=this.isProccessedItemGroup(n);!s&&this.onItemChange({originalEvent:e,processedItem:n})}this.hide()},onEnter:function(e){w.addStyles(e,{position:"absolute"}),this.position(),this.autoZIndex&&ee.set("menu",e,this.baseZIndex+this.$primevue.config.zIndex.menu)},onAfterEnter:function(){this.bindOutsideClickListener(),this.bindResizeListener(),this.$emit("show"),w.focus(this.list)},onLeave:function(){this.$emit("hide"),this.container=null},onAfterLeave:function(e){this.autoZIndex&&ee.clear(e),this.unbindOutsideClickListener(),this.unbindResizeListener()},position:function(){var e=this.pageX+1,n=this.pageY+1,s=this.container.offsetParent?this.container.offsetWidth:w.getHiddenElementOuterWidth(this.container),o=this.container.offsetParent?this.container.offsetHeight:w.getHiddenElementOuterHeight(this.container),i=w.getViewport();e+s-document.body.scrollLeft>i.width&&(e-=s),n+o-document.body.scrollTop>i.height&&(n-=o),e<document.body.scrollLeft&&(e=document.body.scrollLeft),n<document.body.scrollTop&&(n=document.body.scrollTop),this.container.style.left=e+"px",this.container.style.top=n+"px"},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){var s=e.container&&!e.container.contains(n.target),o=e.visible?!(e.target&&(e.target===n.target||e.target.contains(n.target))):!0;s&&o&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.visible&&!w.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindDocumentContextMenuListener:function(){var e=this;this.documentContextMenuListener||(this.documentContextMenuListener=function(n){n.button===2&&e.show(n)},document.addEventListener("contextmenu",this.documentContextMenuListener))},unbindDocumentContextMenuListener:function(){this.documentContextMenuListener&&(document.removeEventListener("contextmenu",this.documentContextMenuListener),this.documentContextMenuListener=null)},isItemMatched:function(e){var n;return this.isValidItem(e)&&((n=this.getProccessedItemLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase()))},isValidItem:function(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)},isValidSelectedItem:function(e){return this.isValidItem(e)&&this.isSelected(e)},isSelected:function(e){return this.activeItemPath.some(function(n){return n.key===e.key})},findFirstItemIndex:function(){var e=this;return this.visibleItems.findIndex(function(n){return e.isValidItem(n)})},findLastItemIndex:function(){var e=this;return k.findLastIndex(this.visibleItems,function(n){return e.isValidItem(n)})},findNextItemIndex:function(e){var n=this,s=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(function(o){return n.isValidItem(o)}):-1;return s>-1?s+e+1:e},findPrevItemIndex:function(e){var n=this,s=e>0?k.findLastIndex(this.visibleItems.slice(0,e),function(o){return n.isValidItem(o)}):-1;return s>-1?s:e},findSelectedItemIndex:function(){var e=this;return this.visibleItems.findIndex(function(n){return e.isValidSelectedItem(n)})},findFirstFocusedItemIndex:function(){var e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e},findLastFocusedItemIndex:function(){var e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e},searchItems:function(e,n){var s=this;this.searchValue=(this.searchValue||"")+n;var o=-1,i=!1;return this.focusedItemInfo.index!==-1?(o=this.visibleItems.slice(this.focusedItemInfo.index).findIndex(function(r){return s.isItemMatched(r)}),o=o===-1?this.visibleItems.slice(0,this.focusedItemInfo.index).findIndex(function(r){return s.isItemMatched(r)}):o+this.focusedItemInfo.index):o=this.visibleItems.findIndex(function(r){return s.isItemMatched(r)}),o!==-1&&(i=!0),o===-1&&this.focusedItemInfo.index===-1&&(o=this.findFirstFocusedItemIndex()),o!==-1&&this.changeFocusedItemIndex(e,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){s.searchValue="",s.searchTimeout=null},500),i},changeFocusedItemIndex:function(e,n){this.focusedItemInfo.index!==n&&(this.focusedItemInfo.index=n,this.scrollInView())},scrollInView:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,n=e!==-1?"".concat(this.id,"_").concat(e):this.focusedItemIdx,s=w.findSingle(this.list,'li[id="'.concat(n,'"]'));s&&s.scrollIntoView&&s.scrollIntoView({block:"nearest",inline:"start"})},createProcessedItems:function(e){var n=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",r=[];return e&&e.forEach(function(l,f){var a=(i!==""?i+"_":"")+f,m={item:l,index:f,level:s,key:a,parent:o,parentKey:i};m.items=n.createProcessedItems(l.items,s+1,m,a),r.push(m)}),r},containerRef:function(e){this.container=e},listRef:function(e){this.list=e?e.$el:void 0}},computed:{processedItems:function(){return this.createProcessedItems(this.model||[])},visibleItems:function(){var e=this,n=this.activeItemPath.find(function(s){return s.key===e.focusedItemInfo.parentKey});return n?n.items:this.processedItems},focusedItemIdx:function(){return this.focusedItemInfo.index!==-1?"".concat(this.id).concat(k.isNotEmpty(this.focusedItemInfo.parentKey)?"_"+this.focusedItemInfo.parentKey:"","_").concat(this.focusedItemInfo.index):null}},components:{ContextMenuSub:ce,Portal:Ee}};function ot(t,e,n,s,o,i){var r=B("ContextMenuSub"),l=B("Portal");return u(),C(l,{appendTo:t.appendTo},{default:A(function(){return[S(ue,d({name:"p-contextmenu",onEnter:i.onEnter,onAfterEnter:i.onAfterEnter,onLeave:i.onLeave,onAfterLeave:i.onAfterLeave},t.ptm("transition")),{default:A(function(){return[o.visible?(u(),I("div",d({key:0,ref:i.containerRef,class:t.cx("root")},t.ptmi("root")),[S(r,{ref:i.listRef,id:o.id+"_list",class:J(t.cx("menu")),role:"menubar",root:!0,tabindex:t.tabindex,"aria-orientation":"vertical","aria-activedescendant":o.focused?i.focusedItemIdx:void 0,menuId:o.id,focusedItemId:o.focused?i.focusedItemIdx:void 0,items:i.processedItems,templates:t.$slots,activeItemPath:o.activeItemPath,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,level:0,visible:o.submenuVisible,pt:t.pt,unstyled:t.unstyled,onFocus:i.onFocus,onBlur:i.onBlur,onKeydown:i.onKeyDown,onItemClick:i.onItemClick,onItemMouseenter:i.onItemMouseEnter,onItemMousemove:i.onItemMouseMove},null,8,["id","class","tabindex","aria-activedescendant","menuId","focusedItemId","items","templates","activeItemPath","aria-labelledby","aria-label","visible","pt","unstyled","onFocus","onBlur","onKeydown","onItemClick","onItemMouseenter","onItemMousemove"])],16)):M("",!0)]}),_:1},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:1},8,["appendTo"])}de.render=ot;var me={name:"ChevronRightIcon",extends:Ke},at=P("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1),rt=[at];function lt(t,e,n,s,o,i){return u(),I("svg",d({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),rt,16)}me.render=lt;var ut={root:"p-breadcrumb p-component",menu:"p-breadcrumb-list",home:"p-breadcrumb-home",separator:"p-menuitem-separator",menuitem:function(e){var n=e.instance;return["p-menuitem",{"p-disabled":n.disabled()}]},action:"p-menuitem-link",icon:"p-menuitem-icon",label:"p-menuitem-text"},ct=le.extend({name:"breadcrumb",classes:ut}),dt={name:"BaseBreadcrumb",extends:$,props:{model:{type:Array,default:null},home:{type:null,default:null}},style:ct,provide:function(){return{$parentInstance:this}}},fe={name:"BreadcrumbItem",hostName:"Breadcrumb",extends:$,props:{item:null,templates:null,index:null},methods:{onClick:function(e){this.item.command&&this.item.command({originalEvent:e,item:this.item})},visible:function(){return typeof this.item.visible=="function"?this.item.visible():this.item.visible!==!1},disabled:function(){return typeof this.item.disabled=="function"?this.item.disabled():this.item.disabled},label:function(){return typeof this.item.label=="function"?this.item.label():this.item.label},isCurrentUrl:function(){var e=this.item,n=e.to,s=e.url,o=typeof window<"u"?window.location.pathname:"";return n===o||s===o?"page":void 0}},computed:{ptmOptions:function(){return{context:{item:this.item,index:this.index}}},getMenuItemProps:function(){var e=this;return{action:d({class:this.cx("action"),"aria-current":this.isCurrentUrl(),onClick:function(s){return e.onClick(s)}},this.ptm("action",this.ptmOptions)),icon:d({class:[this.cx("icon"),this.item.icon]},this.ptm("icon",this.ptmOptions)),label:d({class:this.cx("label")},this.ptm("label",this.ptmOptions))}}}},mt=["href","target","aria-current"];function ft(t,e,n,s,o,i){return i.visible()?(u(),I("li",d({key:0,class:[t.cx("menuitem"),n.item.class]},t.ptm("menuitem",i.ptmOptions)),[n.templates.item?(u(),C(H(n.templates.item),{key:1,item:n.item,label:i.label(),props:i.getMenuItemProps},null,8,["item","label","props"])):(u(),I("a",d({key:0,href:n.item.url||"#",class:t.cx("action"),target:n.item.target,"aria-current":i.isCurrentUrl(),onClick:e[0]||(e[0]=function(){return i.onClick&&i.onClick.apply(i,arguments)})},t.ptm("action",i.ptmOptions)),[n.templates&&n.templates.itemicon?(u(),C(H(n.templates.itemicon),{key:0,item:n.item,class:J(t.cx("icon",i.ptmOptions))},null,8,["item","class"])):n.item.icon?(u(),I("span",d({key:1,class:[t.cx("icon"),n.item.icon]},t.ptm("icon",i.ptmOptions)),null,16)):M("",!0),n.item.label?(u(),I("span",d({key:2,class:t.cx("label")},t.ptm("label",i.ptmOptions)),Q(i.label()),17)):M("",!0)],16,mt))],16)):M("",!0)}fe.render=ft;var he={name:"Breadcrumb",extends:dt,inheritAttrs:!1,components:{BreadcrumbItem:fe,ChevronRightIcon:me}};function ht(t,e,n,s,o,i){var r=B("BreadcrumbItem"),l=B("ChevronRightIcon");return u(),I("nav",d({class:t.cx("root")},t.ptmi("root")),[P("ol",d({class:t.cx("menu")},t.ptm("menu")),[t.home?(u(),C(r,d({key:0,item:t.home,class:t.cx("home"),templates:t.$slots,pt:t.pt,unstyled:t.unstyled},t.ptm("home")),null,16,["item","class","templates","pt","unstyled"])):M("",!0),(u(!0),I(O,null,q(t.model,function(f,a){return u(),I(O,{key:f.label+"_"+a},[t.home||a!==0?(u(),I("li",d({key:0,class:t.cx("separator")},t.ptm("separator")),[Se(t.$slots,"separator",{},function(){return[S(l,d({"aria-hidden":"true"},t.ptm("separatorIcon")),null,16)]})],16)):M("",!0),S(r,{item:f,index:a,templates:t.$slots,pt:t.pt,unstyled:t.unstyled},null,8,["item","index","templates","pt","unstyled"])],64)}),128))],16)],16)}he.render=ht;function Ie(t){return Ae()?(De(t),!0):!1}function Z(t){return typeof t=="function"?t():y(t)}const ve=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const It=Object.prototype.toString,vt=t=>It.call(t)==="[object Object]",pe=()=>{},oe=pt();function pt(){var t,e;return ve&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const bt={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function gt(...t){if(t.length!==1)return Oe(...t);const e=t[0];return typeof e=="function"?_e(Ve(()=>({get:e,set:pe}))):K(e)}function be(t){var e;const n=Z(t);return(e=n==null?void 0:n.$el)!=null?e:n}const yt=ve?window:void 0;function X(...t){let e,n,s,o;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,s,o]=t,e=yt):[e,n,s,o]=t,!e)return pe;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const i=[],r=()=>{i.forEach(m=>m()),i.length=0},l=(m,h,v,L)=>(m.addEventListener(h,v,L),()=>m.removeEventListener(h,v,L)),f=j(()=>[be(e),Z(o)],([m,h])=>{if(r(),!m)return;const v=vt(h)?{...h}:h;i.push(...n.flatMap(L=>s.map(p=>l(m,L,p,v))))},{immediate:!0,flush:"post"}),a=()=>{f(),r()};return Ie(a),a}const xt=500,wt=10;function ae(t,e,n){var s,o;const i=z(()=>be(t));let r,l;function f(){r&&(clearTimeout(r),r=void 0),l=void 0}function a(p){var _,V,F,R;(_=n==null?void 0:n.modifiers)!=null&&_.self&&p.target!==i.value||(f(),(V=n==null?void 0:n.modifiers)!=null&&V.prevent&&p.preventDefault(),(F=n==null?void 0:n.modifiers)!=null&&F.stop&&p.stopPropagation(),l={x:p.x,y:p.y},r=setTimeout(()=>e(p),(R=n==null?void 0:n.delay)!=null?R:xt))}function m(p){var _,V,F,R;if((_=n==null?void 0:n.modifiers)!=null&&_.self&&p.target!==i.value||!l||(n==null?void 0:n.distanceThreshold)===!1)return;(V=n==null?void 0:n.modifiers)!=null&&V.prevent&&p.preventDefault(),(F=n==null?void 0:n.modifiers)!=null&&F.stop&&p.stopPropagation();const U=p.x-l.x,W=p.y-l.y;Math.sqrt(U*U+W*W)>=((R=n==null?void 0:n.distanceThreshold)!=null?R:wt)&&f()}const h={capture:(s=n==null?void 0:n.modifiers)==null?void 0:s.capture,once:(o=n==null?void 0:n.modifiers)==null?void 0:o.once},v=[X(i,"pointerdown",a,h),X(i,"pointermove",m,h),X(i,["pointerup","pointerleave"],f,h)];return()=>v.forEach(p=>p())}const re={[bt.mounted](t,e){typeof e.value=="function"?ae(t,e.value,{modifiers:e.modifiers}):ae(t,...e.value)}};function te(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function ge(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!n||n.tagName==="BODY"?!1:ge(n)}}function kt(t){const e=t||window.event,n=e.target;return ge(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const Y=new WeakMap;function Lt(t,e=!1){const n=K(e);let s=null;j(gt(t),r=>{const l=te(Z(r));if(l){const f=l;Y.get(f)||Y.set(f,f.style.overflow),n.value&&(f.style.overflow="hidden")}},{immediate:!0});const o=()=>{const r=te(Z(t));!r||n.value||(oe&&(s=X(r,"touchmove",l=>{kt(l)},{passive:!1})),r.style.overflow="hidden",n.value=!0)},i=()=>{var r;const l=te(Z(t));!l||!n.value||(oe&&(s==null||s()),l.style.overflow=(r=Y.get(l))!=null?r:"",Y.delete(l),n.value=!1)};return Ie(i),z({get(){return n.value},set(r){r?o():i()}})}function Pt(){let t=!1;const e=K(!1);return(n,s)=>{if(e.value=s.value,t)return;t=!0;const o=Lt(n,s.value);j(e,i=>o.value=i)}}Pt();const Ct="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20data-name='Layer%201'%20width='647.63626'%20height='632.17383'%20viewBox='0%200%20647.63626%20632.17383'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cpath%20d='M687.3279,276.08691H512.81813a15.01828,15.01828,0,0,0-15,15v387.85l-2,.61005-42.81006,13.11a8.00676,8.00676,0,0,1-9.98974-5.31L315.678,271.39691a8.00313,8.00313,0,0,1,5.31006-9.99l65.97022-20.2,191.25-58.54,65.96972-20.2a7.98927,7.98927,0,0,1,9.99024,5.3l32.5498,106.32Z'%20transform='translate(-276.18187%20-133.91309)'%20fill='%23f2f2f2'/%3e%3cpath%20d='M725.408,274.08691l-39.23-128.14a16.99368,16.99368,0,0,0-21.23-11.28l-92.75,28.39L380.95827,221.60693l-92.75,28.4a17.0152,17.0152,0,0,0-11.28028,21.23l134.08008,437.93a17.02661,17.02661,0,0,0,16.26026,12.03,16.78926,16.78926,0,0,0,4.96972-.75l63.58008-19.46,2-.62v-2.09l-2,.61-64.16992,19.65a15.01489,15.01489,0,0,1-18.73-9.95l-134.06983-437.94a14.97935,14.97935,0,0,1,9.94971-18.73l92.75-28.4,191.24024-58.54,92.75-28.4a15.15551,15.15551,0,0,1,4.40966-.66,15.01461,15.01461,0,0,1,14.32032,10.61l39.0498,127.56.62012,2h2.08008Z'%20transform='translate(-276.18187%20-133.91309)'%20fill='%233f3d56'/%3e%3cpath%20d='M398.86279,261.73389a9.0157,9.0157,0,0,1-8.61133-6.3667l-12.88037-42.07178a8.99884,8.99884,0,0,1,5.9712-11.24023l175.939-53.86377a9.00867,9.00867,0,0,1,11.24072,5.9707l12.88037,42.07227a9.01029,9.01029,0,0,1-5.9707,11.24072L401.49219,261.33887A8.976,8.976,0,0,1,398.86279,261.73389Z'%20transform='translate(-276.18187%20-133.91309)'%20fill='%23000000'/%3e%3ccircle%20cx='190.15351'%20cy='24.95465'%20r='20'%20fill='%23000000'/%3e%3ccircle%20cx='190.15351'%20cy='24.95465'%20r='12.66462'%20fill='%23fff'/%3e%3cpath%20d='M878.81836,716.08691h-338a8.50981,8.50981,0,0,1-8.5-8.5v-405a8.50951,8.50951,0,0,1,8.5-8.5h338a8.50982,8.50982,0,0,1,8.5,8.5v405A8.51013,8.51013,0,0,1,878.81836,716.08691Z'%20transform='translate(-276.18187%20-133.91309)'%20fill='%23e6e6e6'/%3e%3cpath%20d='M723.31813,274.08691h-210.5a17.02411,17.02411,0,0,0-17,17v407.8l2-.61v-407.19a15.01828,15.01828,0,0,1,15-15H723.93825Zm183.5,0h-394a17.02411,17.02411,0,0,0-17,17v458a17.0241,17.0241,0,0,0,17,17h394a17.0241,17.0241,0,0,0,17-17v-458A17.02411,17.02411,0,0,0,906.81813,274.08691Zm15,475a15.01828,15.01828,0,0,1-15,15h-394a15.01828,15.01828,0,0,1-15-15v-458a15.01828,15.01828,0,0,1,15-15h394a15.01828,15.01828,0,0,1,15,15Z'%20transform='translate(-276.18187%20-133.91309)'%20fill='%233f3d56'/%3e%3cpath%20d='M801.81836,318.08691h-184a9.01015,9.01015,0,0,1-9-9v-44a9.01016,9.01016,0,0,1,9-9h184a9.01016,9.01016,0,0,1,9,9v44A9.01015,9.01015,0,0,1,801.81836,318.08691Z'%20transform='translate(-276.18187%20-133.91309)'%20fill='%23000000'/%3e%3ccircle%20cx='433.63626'%20cy='105.17383'%20r='20'%20fill='%23000000'/%3e%3ccircle%20cx='433.63626'%20cy='105.17383'%20r='12.18187'%20fill='%23fff'/%3e%3c/svg%3e",Mt={"space-y-4":""},Et={class:"flex items-center"},Kt=P("div",{"flex-1":""},null,-1),St={flex:"","flex-col":"","items-center":"","justify-center":"","h-full":""},At=["src"],Dt={"text-4":"","sm:text-6":"","mt-6":""},_t=Fe({__name:"[path]",props:{scope:{},path:{}},setup(t){const e=Ue(),n=Ne(),{t:s}=Re(),o=t,i=K([]),r=K(!0),l=K(!0),f=K(""),a=K(""),m=K(),h=K(),v=K(),{layout:L}=Ge(),p=z(()=>r.value&&l.value),_=z(()=>{if(o.path=="/")return"/";let c=o.path.length-2;for(let g=c;g>=0;g--)if(o.path[g]=="/"){c=g;break}const b=o.path.slice(0,c+1);return`/${o.scope}/${encodeURIComponent(b)}`}),V=z(()=>{const c=[{label:a.value,route:`/${o.scope}/${encodeURIComponent("/")}`}];for(let g=1,G=1;g<o.path.length;g++)o.path[g]=="/"&&(c.push({label:o.path.slice(G,g),route:`/${o.scope}/${encodeURIComponent(o.path.slice(0,g+1))}`}),G=g+1);const b=c.at(-1);return b.class="text-primary-500",c}),F=z(()=>[{label:s("menu.download"),icon:"",command:()=>{if(!v.value)return;const c=o.path.slice(1)+v.value.name;ye(`/api/download?scope=${o.scope}&path=${c}`,v.value.name)}}]);async function R(){const c=await Te(o.scope);r.value=!!c,c&&(f.value=c.origin,a.value=c.path,await U())}async function U(){try{i.value=await Be(f.value,o.path),l.value=!0}catch{l.value=!1}W()}function W(){var c;Object.assign((c=m.value)==null?void 0:c.$el,{scrollLeft:99999})}function N(c,b){b.type!="directory"&&(v.value=b,h.value.show(c))}function ye(c,b){const g=document.createElement("a");g.download=b,g.href=c,g.click()}return j(()=>e.fullPath,U),j(p,c=>{c||n.push({name:"all"})}),R(),(c,b)=>{const g=je,G=B("router-link"),xe=We,we=he,ie=Ye,ke=ze,Le=de;return u(),I(O,null,[S(ke,{value:y(i),layout:y(L),"data-key":void 0,"h-full":""},{header:A(()=>[P("div",Mt,[P("div",Et,[S(G,{to:y(_)},{default:A(()=>[S(g,{icon:"i-mdi:arrow-left",label:c.$t("tip.back"),size:"small"},null,8,["label"])]),_:1},8,["to"]),Kt,S(xe,{modelValue:y(L),"onUpdate:modelValue":b[0]||(b[0]=D=>He(L)?L.value=D:null)},null,8,["modelValue"])]),S(we,{model:y(V),ref_key:"breadcrumb",ref:m},{item:A(({item:D})=>[S(G,{to:D.route,"whitespace-nowrap":""},{default:A(()=>[Ze(Q(D.label),1)]),_:2},1032,["to"])]),_:1},8,["model"])])]),list:A(D=>[P("div",{class:"overflow-y-auto max-h-full",onScroll:b[1]||(b[1]=x=>y(h).hide())},[(u(!0),I(O,null,q(D.items,({name:x,type:E})=>ne((u(),C(ie,{key:x+E,class:"w-full p-3 break-all",to:E=="directory"?`${c.$route.fullPath}${encodeURIComponent(x+"/")}`:`/file/${encodeURIComponent(y(f)+o.path+x)}`,type:E,name:x,layout:y(L),onContextmenu:T=>N(T,{type:E,name:x})},null,8,["to","type","name","layout","onContextmenu"])),[[y(re),T=>N(T,{type:E,name:x}),void 0,{prevent:!0}]])),128))],32)]),grid:A(D=>[P("div",{class:"grid grid-cols-2 sm:grid-cols-3 xl:grid-cols-4 overflow-y-auto max-h-full",onScroll:b[2]||(b[2]=x=>y(h).hide())},[(u(!0),I(O,null,q(D.items,({name:x,type:E})=>ne((u(),C(ie,{key:x+E,class:"p-3 break-all",to:E=="directory"?`${c.$route.fullPath}${encodeURIComponent(x+"/")}`:`/file/${encodeURIComponent(y(f)+o.path+x)}`,type:E,name:x,layout:y(L),onContextmenu:T=>N(T,{type:E,name:x})},null,8,["to","type","name","layout","onContextmenu"])),[[y(re),T=>N(T,{type:E,name:x}),void 0,{prevent:!0}]])),128))],32)]),empty:A(()=>[P("div",St,[P("img",{src:y(Ct),"w-200px":"","sm:w-300px":""},null,8,At),P("div",Dt,Q(c.$t("tip.noFile")),1)])]),_:1},8,["value","layout"]),S(Le,{ref_key:"menu",ref:h,model:y(F),onHide:b[3]||(b[3]=D=>v.value=void 0)},null,8,["model"])],64)}}});export{_t as default};
